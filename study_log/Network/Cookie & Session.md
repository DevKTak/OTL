# 쿠키와 세션
> HTTP 프로토콜의 상태를 유지하기 위해 `Cookie` 와 `Session` 사용

# 쿠키란
> 클라이언트 컴퓨터에 저장하는 작은 기록 정보 파일

## 쿠키의 동작 원리
1. **클라이언트 요청**: 사용자가 웹 페이지에 접속하면 서버는 클라이언트에게 쿠키를 설정할 것인지에 대한 정보를 응답 헤더에 포함시킵니다.
2. **쿠키 저장:** 클라이언트 브라우저는 이 정보를 받아서 로컬에 쿠키로 저장합니다. 쿠키는 키-값 쌍으로 이루어져 있으며, 서버가 클라이언트에게 제공한 데이터를 저장합니다.
3. **클라이언트 요청 시 쿠키 전송:** 이후 클라이언트가 같은 서버에 요청을 보낼 때, 저장된 쿠키를 요청 헤더에 포함시켜 서버에 전송합니다.
4. **서버에서 쿠키 읽기:** 서버는 클라이언트로부터 받은 쿠키를 읽어서 해당 사용자의 상태를 파악하거나 필요한 데이터를 가져올 수 있습니다.
5. **서버에서 쿠키 설정:** 서버는 쿠키의 만료 기간, 경로 및 도메인 등을 설정하여 클라이언트에게 전송합니다.

--- 

1. 클라이언트가 웹서버에 데이터를 요청합니다.
2. 웹서버는 Set-Cookie 속성을 사용하여 `응답헤더`에 쿠키를 설정하라는 명령을 내립니다.
3. 클라이언트는 키-밸류 형태로 하드에 쿠키를 저장합니다.
4. 이후 클라이언트가 같은 서버에 요청을 보낼 때, 저장된 쿠키를 `요청헤더`에 포함시켜 서버에 전송합니다.   
   
<br/>

# 세션이란
> 클라이언트가 웹 서버에 접속해 있는 상태

## 세션의 동작 원리
1. 클라이언트가 서버에 처음으로 Request를 보냄 (첫 요청이기 때문에 session id가 존재하지 않음)
2. 서버에서는 session id 쿠키 값이 없는 것을 확인하고 새로 발급해서 응답
3. 이후 클라이언트는 전달받은 session id 값을 매 요청헤더에 쿠키에 포함시켜 서버로 요청
4. 서버는 session id를 확인하여 사용자를 식별